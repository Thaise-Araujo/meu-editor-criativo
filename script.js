// üéØ COME√áO DO NOSSO C√ìDIGO - VAMOS EXPLICAR CADA PARTE!
console.log('üöÄ Iniciando nosso Editor Criativo!');

// ============================================
// üîπ PARTE 1: SELECIONAR TODOS OS ELEMENTOS
// ============================================
// √Årea de texto e visualiza√ß√£o
const areaTexto = document.getElementById('areaTexto');
const textoPreview = document.getElementById('textoPreview');
const contadorCaracteres = document.getElementById('contadorCaracteres');
const contadorPalavras = document.getElementById('contadorPalavras');
const contadorLinhas = document.getElementById('contadorLinhas');

// Bot√µes de estilo
const btnNegrito = document.getElementById('btnNegrito');
const btnItalico = document.getElementById('btnItalico');
const btnSublinhado = document.getElementById('btnSublinhado');
const btnRiscado = document.getElementById('btnRiscado');

// Bot√µes de alinhamento
const btnEsquerda = document.getElementById('btnEsquerda');
const btnCentro = document.getElementById('btnCentro');
const btnDireita = document.getElementById('btnDireita');

// Controles
const selectFonte = document.getElementById('selectFonte');
const corTexto = document.getElementById('corTexto');
const tamanhoFonte = document.getElementById('tamanhoFonte');
const valorTamanho = document.getElementById('valorTamanho');
const nomeCor = document.getElementById('nomeCor');

// Bot√µes criativos
const btnEmojis = document.getElementById('btnEmojis');
const btnBorda = document.getElementById('btnBorda');
const btnSombra = document.getElementById('btnSombra');
const btnPiscar = document.getElementById('btnPiscar');
const btnArcoiris = document.getElementById('btnArcoiris');

// Novos bot√µes de borda
const btnBordaPontilhada = document.getElementById('btnBordaPontilhada');
const btnBordaDupla = document.getElementById('btnBordaDupla');
const btnBordaSombra = document.getElementById('btnBordaSombra');

// Temas
const botoesTemas = document.querySelectorAll('.btn-tema');

// Controles finais
const btnSalvar = document.getElementById('btnSalvar');
const btnLimpar = document.getElementById('btnLimpar');
const btnCopiar = document.getElementById('btnCopiar');

// Mensagem
const mensagem = document.getElementById('mensagem');

console.log('‚úÖ Todos os elementos selecionados!');

// ============================================
// üîπ PARTE 2: VARI√ÅVEIS PARA GUARDAR CONFIGURA√á√ïES
// ============================================
let config = {
    estilos: {
        negrito: false,
        italico: false,
        sublinhado: false,
        riscado: false,
        borda: false,
        sombra: false
    },
    efeitos: {
        piscar: false,
        arcoiris: false
    },
    fonte: 'Arial',
    cor: '#000000',
    tamanho: 16,
    tema: 'claro',
    alinhamento: 'left'
};

console.log('üéõÔ∏è Configura√ß√µes iniciais definidas:', config);

// ============================================
// üîπ PARTE 3: FUN√á√ïES PRINCIPAIS
// ============================================

// üé® FUN√á√ÉO 1: Atualizar a visualiza√ß√£o do texto
function atualizarVisualizacao() {
    console.log('üîÑ Atualizando visualiza√ß√£o...');
    
    // Pegar o texto digitado pelo usu√°rio
    const texto = areaTexto.value || 'Sua obra-prima aparecer√° aqui... üåü';
    
    // Colocar o texto na √°rea de visualiza√ß√£o
    textoPreview.textContent = texto;
    
    // üîÑ LIMPAR TODAS AS CLASSES ANTERIORES
    textoPreview.className = 'texto-preview';
    
    // Aplicar alinhamento
    textoPreview.style.textAlign = config.alinhamento;
    
    // Ativar bot√£o correto de alinhamento
    btnEsquerda.classList.remove('ativo');
    btnCentro.classList.remove('ativo');
    btnDireita.classList.remove('ativo');
    
    if (config.alinhamento === 'left') btnEsquerda.classList.add('ativo');
    if (config.alinhamento === 'center') btnCentro.classList.add('ativo');
    if (config.alinhamento === 'right') btnDireita.classList.add('ativo');
    
    // üé™ APLICAR ESTILOS CONFORME AS CONFIGURA√á√ïES
    if (config.estilos.negrito) {
        textoPreview.classList.add('negrito');
        btnNegrito.classList.add('ativo');
    } else {
        btnNegrito.classList.remove('ativo');
    }
    
    if (config.estilos.italico) {
        textoPreview.classList.add('italico');
        btnItalico.classList.add('ativo');
    } else {
        btnItalico.classList.remove('ativo');
    }
    
    if (config.estilos.sublinhado) {
        textoPreview.classList.add('sublinhado');
        btnSublinhado.classList.add('ativo');
    } else {
        btnSublinhado.classList.remove('ativo');
    }
    
    if (config.estilos.riscado) {
        textoPreview.classList.add('riscado');
        btnRiscado.classList.add('ativo');
    } else {
        btnRiscado.classList.remove('ativo');
    }
    
    if (config.estilos.borda) {
        textoPreview.classList.add('borda-decorativa');
        btnBorda.classList.add('ativo');
    } else {
        btnBorda.classList.remove('ativo');
    }
    
    if (config.estilos.sombra) {
        textoPreview.classList.add('sombra-texto');
        btnSombra.classList.add('ativo');
    } else {
        btnSombra.classList.remove('ativo');
    }
    
    // Aplicar efeitos
    if (config.efeitos.piscar) {
        textoPreview.classList.add('texto-piscante');
        btnPiscar.classList.add('ativo');
    } else {
        textoPreview.classList.remove('texto-piscante');
        btnPiscar.classList.remove('ativo');
    }
    
    if (config.efeitos.arcoiris) {
        textoPreview.classList.add('texto-arcoiris');
        btnArcoiris.classList.add('ativo');
    } else {
        textoPreview.classList.remove('texto-arcoiris');
        btnArcoiris.classList.remove('ativo');
    }
    
    // üé® APLICAR CONFIGURA√á√ïES DIRETAS
    textoPreview.style.fontFamily = config.fonte;
    textoPreview.style.color = config.cor;
    textoPreview.style.fontSize = config.tamanho + 'px';
    
    console.log('‚ú® Visualiza√ß√£o atualizada com sucesso!');
}

// üî¢ FUN√á√ÉO 2: Atualizar contadores
function atualizarContadores() {
    const texto = areaTexto.value;
    const caracteres = texto.length;
    
    // Contar palavras (separadas por espa√ßos)
    const palavras = texto.trim() === '' ? 0 : texto.trim().split(/\s+/).length;
    
    // Contar linhas
    const linhas = texto === '' ? 0 : texto.split('\n').length;

    // Atualizar na tela
    contadorCaracteres.textContent = caracteres;
    contadorPalavras.textContent = palavras;
    contadorLinhas.textContent = linhas;
    
    console.log(`üìä Estat√≠sticas: ${caracteres} caracteres, ${palavras} palavras, ${linhas} linhas`);
}

// üí¨ FUN√á√ÉO 3: Mostrar mensagens tempor√°rias
function mostrarMensagem(texto, tipo = 'sucesso') {
    mensagem.textContent = texto;
    mensagem.className = 'mensagem mostrar';
    
    if (tipo === 'erro') {
        mensagem.classList.add('erro');
    }
    
    // Sumir depois de 3 segundos
    setTimeout(() => {
        mensagem.classList.remove('mostrar');
    }, 3000);
    
    console.log(`üí¨ Mensagem: ${texto}`);
}

// üíæ FUN√á√ÉO 4: Salvar texto no navegador
function salvarTexto() {
    const texto = areaTexto.value;
    
    if (!texto.trim()) {
        mostrarMensagem('‚ùå Digite algo para salvar!', 'erro');
        return;
    }
    
    // Salvar no localStorage do navegador
    localStorage.setItem('textoSalvo', texto);
    localStorage.setItem('configuracao', JSON.stringify(config));
    
    mostrarMensagem('üíæ Texto salvo com sucesso!');
    console.log('üìÅ Texto salvo no navegador');
}

// üìÇ FUN√á√ÉO 5: Carregar texto salvo
function carregarTextoSaved() {
    try {
        const textoSaved = localStorage.getItem('textoSalvo');
        const configSaved = localStorage.getItem('configuracao');
        
        if (textoSaved) {
            areaTexto.value = textoSaved;
            
            if (configSaved) {
                const parsedConfig = JSON.parse(configSaved);
                // Validar e mescar configura√ß√µes
                config = { ...config, ...parsedConfig };
                aplicarConfiguracaoSalva();
            }
            
            atualizarVisualizacao();
            atualizarContadores();
            mostrarMensagem('üìÇ Texto anterior carregado!');
        }
    } catch (error) {
        console.error('Erro ao carregar texto salvo:', error);
        mostrarMensagem('‚ùå Erro ao carregar texto salvo', 'erro');
    }
}

// üîß FUN√á√ÉO 6: Aplicar configura√ß√£o salva
function aplicarConfiguracaoSalva() {
    selectFonte.value = config.fonte;
    corTexto.value = config.cor;
    tamanhoFonte.value = config.tamanho;
    valorTamanho.textContent = config.tamanho + 'px';
    
    // Atualizar nome da cor
    atualizarNomeCor(config.cor);
    
    // Aplicar tema
    document.body.className = `tema-${config.tema}`;
    
    console.log('üîß Configura√ß√£o salva aplicada:', config);
}

// üé® FUN√á√ÉO 7: Atualizar nome da cor
function atualizarNomeCor(corHex) {
    const cores = {
        '#000000': 'Preto',
        '#ffffff': 'Branco',
        '#ff0000': 'Vermelho',
        '#00ff00': 'Verde',
        '#0000ff': 'Azul',
        '#ffff00': 'Amarelo',
        '#ff00ff': 'Magenta',
        '#00ffff': 'Ciano',
        '#ff6b6b': 'Vermelho Claro',
        '#48dbfb': 'Azul Claro',
        '#1dd1a1': 'Verde Claro',
        '#f368e0': 'Rosa',
        '#ff9ff3': 'Rosa Claro',
        '#74b9ff': 'Azul M√©dio',
        '#a29bfe': 'Roxo Claro'
    };
    
    nomeCor.textContent = cores[corHex] || corHex;
}

// ============================================
// üîπ PARTE 4: EVENT LISTENERS - OUVINTES DE EVENTOS
// ============================================

// üìù EVENTO 1: Quando o usu√°rio digita
areaTexto.addEventListener('input', function() {
    console.log('‚å®Ô∏è Usu√°rio est√° digitando...');
    atualizarVisualizacao();
    atualizarContadores();
    verificarConquistas();
});

// üé® EVENTO 2: Bot√µes de estilo
btnNegrito.addEventListener('click', function() {
    config.estilos.negrito = !config.estilos.negrito;
    console.log('üÖ±Ô∏è Negrito:', config.estilos.negrito);
    atualizarVisualizacao();
});

btnItalico.addEventListener('click', function() {
    config.estilos.italico = !config.estilos.italico;
    console.log('‚ÑπÔ∏è It√°lico:', config.estilos.italico);
    atualizarVisualizacao();
});

btnSublinhado.addEventListener('click', function() {
    config.estilos.sublinhado = !config.estilos.sublinhado;
    console.log('üîó Sublinhado:', config.estilos.sublinhado);
    atualizarVisualizacao();
});

btnRiscado.addEventListener('click', function() {
    config.estilos.riscado = !config.estilos.riscado;
    console.log('üö´ Riscado:', config.estilos.riscado);
    atualizarVisualizacao();
});

// üìê EVENTO 3: Bot√µes de alinhamento
btnEsquerda.addEventListener('click', function() {
    config.alinhamento = 'left';
    console.log('‚¨ÖÔ∏è Alinhamento: Esquerda');
    atualizarVisualizacao();
});

btnCentro.addEventListener('click', function() {
    config.alinhamento = 'center';
    console.log('üîò Alinhamento: Centro');
    atualizarVisualizacao();
});

btnDireita.addEventListener('click', function() {
    config.alinhamento = 'right';
    console.log('‚û°Ô∏è Alinhamento: Direita');
    atualizarVisualizacao();
});

// üî† EVENTO 4: Mudar fonte
selectFonte.addEventListener('change', function() {
    config.fonte = this.value;
    console.log('üî§ Fonte alterada para:', config.fonte);
    atualizarVisualizacao();
});

// üé® EVENTO 5: Mudar cor
corTexto.addEventListener('input', function() {
    config.cor = this.value;
    atualizarNomeCor(config.cor);
    console.log('üé® Cor alterada para:', config.cor);
    atualizarVisualizacao();
});

// üìè EVENTO 6: Mudar tamanho
tamanhoFonte.addEventListener('input', function() {
    config.tamanho = this.value;
    valorTamanho.textContent = config.tamanho + 'px';
    console.log('üìè Tamanho alterado para:', config.tamanho);
    atualizarVisualizacao();
});

// ‚ú® EVENTO 7: Bot√µes criativos
btnBorda.addEventListener('click', function() {
    config.estilos.borda = !config.estilos.borda;
    console.log('üñºÔ∏è Borda:', config.estilos.borda);
    atualizarVisualizacao();
});

btnSombra.addEventListener('click', function() {
    config.estilos.sombra = !config.estilos.sombra;
    console.log('üí´ Sombra:', config.estilos.sombra);
    atualizarVisualizacao();
});

btnPiscar.addEventListener('click', function() {
    config.efeitos.piscar = !config.efeitos.piscar;
    console.log('üí´ Piscar:', config.efeitos.piscar);
    atualizarVisualizacao();
});

btnArcoiris.addEventListener('click', function() {
    config.efeitos.arcoiris = !config.efeitos.arcoiris;
    console.log('üåà Arco-√≠ris:', config.efeitos.arcoiris);
    atualizarVisualizacao();
});

// üÜï EVENTO 8: Novos bot√µes de borda
btnBordaPontilhada.addEventListener('click', function() {
    textoPreview.classList.toggle('borda-pontilhada');
    btnBordaPontilhada.classList.toggle('ativo');
    console.log('üîµ Borda pontilhada alternada');
});

btnBordaDupla.addEventListener('click', function() {
    textoPreview.classList.toggle('borda-dupla');
    btnBordaDupla.classList.toggle('ativo');
    console.log('üî∑ Borda dupla alternada');
});

btnBordaSombra.addEventListener('click', function() {
    textoPreview.classList.toggle('borda-sombra');
    btnBordaSombra.classList.toggle('ativo');
    console.log('üåë Borda com sombra alternada');
});

// üòä EVENTO 9: Adicionar emojis
btnEmojis.addEventListener('click', function() {
    const emojis = ['üòä', 'üòÇ', 'ü§©', 'üéâ', '‚ú®', 'üåü', 'üí´', 'üåà', 'üî•', 'üíñ', 'üëç', 'üëè'];
    const emojiAleatorio = emojis[Math.floor(Math.random() * emojis.length)];
    
    // Adicionar emoji no cursor ou no final
    const inicio = areaTexto.selectionStart;
    const fim = areaTexto.selectionEnd;
    const texto = areaTexto.value;
    
    areaTexto.value = texto.substring(0, inicio) + emojiAleatorio + texto.substring(fim);
    
    // Atualizar
    areaTexto.focus();
    areaTexto.setSelectionRange(inicio + emojiAleatorio.length, inicio + emojiAleatorio.length);
    
    atualizarVisualizacao();
    atualizarContadores();
    
    mostrarMensagem(`üòä Emoji ${emojiAleatorio} adicionado!`);
    console.log('üòä Emoji adicionado:', emojiAleatorio);
});

// üé≠ EVENTO 10: Mudar tema
botoesTemas.forEach(botao => {
    botao.addEventListener('click', function() {
        const novoTema = this.getAttribute('data-tema');
        const corFundo = this.getAttribute('data-cor');
        
        config.tema = novoTema;
        document.body.className = `tema-${novoTema}`;
        
        // Atualizar cor de fundo do container
        document.querySelector('.container').style.background = corFundo;
        
        console.log(`üé≠ Tema alterado para: ${novoTema}`);
        mostrarMensagem(`üé≠ Tema ${novoTema} ativado!`);
    });
});

// üíæ EVENTO 11: Bot√£o salvar
btnSalvar.addEventListener('click', salvarTexto);

// üóëÔ∏è EVENTO 12: Bot√£o limpar
btnLimpar.addEventListener('click', function() {
    if (confirm('‚ö†Ô∏è Tem certeza que deseja limpar tudo?')) {
        areaTexto.value = '';
        config = {
            estilos: {
                negrito: false,
                italico: false,
                sublinhado: false,
                riscado: false,
                borda: false,
                sombra: false
            },
            efeitos: {
                piscar: false,
                arcoiris: false
            },
            fonte: 'Arial',
            cor: '#000000',
            tamanho: 16,
            tema: 'claro',
            alinhamento: 'left'
        };
        
        // Resetar controles
        selectFonte.value = 'Arial';
        corTexto.value = '#000000';
        tamanhoFonte.value = 16;
        valorTamanho.textContent = '16px';
        nomeCor.textContent = 'Preto';
        document.body.className = '';
        document.querySelector('.container').style.background = '';
        
        atualizarVisualizacao();
        atualizarContadores();
        
        mostrarMensagem('üóëÔ∏è Tudo limpo! Pronto para come√ßar de novo!');
        console.log('üóëÔ∏è Tudo foi limpo');
    }
});

// üìã EVENTO 13: Bot√£o copiar
btnCopiar.addEventListener('click', function() {
    if (!areaTexto.value.trim()) {
        mostrarMensagem('‚ùå Nada para copiar!', 'erro');
        return;
    }
    
    areaTexto.select();
    areaTexto.setSelectionRange(0, 99999); // Para mobile
    
    try {
        navigator.clipboard.writeText(areaTexto.value).then(() => {
            mostrarMensagem('üìã Texto copiado para a √°rea de transfer√™ncia!');
            console.log('üìã Texto copiado com sucesso');
        }).catch(err => {
            // Fallback para navegadores mais antigos
            document.execCommand('copy');
            mostrarMensagem('üìã Texto copiado!');
            console.log('üìã Texto copiado (fallback)');
        });
    } catch (error) {
        console.error('Erro ao copiar:', error);
        mostrarMensagem('‚ùå Erro ao copiar texto', 'erro');
    }
});

// ============================================
// üîπ PARTE 5: QUIZ INTERATIVO
// ============================================
console.log('üéØ Inicializando Quiz...');

const perguntas = [
    {
        pergunta: "Qual tag HTML usamos para texto em NEGRITO?",
        opcoes: ["<bold>", "<strong>", "<b>"],
        resposta: 1
    },
    {
        pergunta: "Qual propriedade CSS muda a COR do texto?",
        opcoes: ["text-color", "font-color", "color"],
        resposta: 2
    },
    {
        pergunta: "Como criamos texto IT√ÅLICO em CSS?",
        opcoes: ["font-style: italic", "text-style: italic", "style: italic"],
        resposta: 0
    }
];

let perguntaAtual = 0;
let pontuacao = 0;

function carregarPergunta() {
    const pergunta = perguntas[perguntaAtual];
    document.getElementById('perguntaQuiz').textContent = pergunta.pergunta;
    
    const opcoes = document.querySelectorAll('.btn-opcao');
    opcoes.forEach((btn, index) => {
        btn.textContent = pergunta.opcoes[index];
        btn.className = 'btn-opcao';
    });
    
    document.getElementById('resultadoQuiz').textContent = '';
    console.log(`üéØ Carregando pergunta ${perguntaAtual + 1}`);
}

function verificarResposta(resposta) {
    const pergunta = perguntas[perguntaAtual];
    const opcoes = document.querySelectorAll('.btn-opcao');
    
    opcoes.forEach((btn, index) => {
        if (index === pergunta.resposta) {
            btn.classList.add('correto');
        } else if (index === parseInt(resposta)) {
            btn.classList.add('errado');
        }
    });
    
    if (parseInt(resposta) === pergunta.resposta) {
        pontuacao++;
        document.getElementById('resultadoQuiz').textContent = '‚úÖ Correto!';
        console.log('‚úÖ Resposta correta!');
    } else {
        document.getElementById('resultadoQuiz').textContent = '‚ùå Tente novamente!';
        console.log('‚ùå Resposta incorreta!');
    }
}

// Event Listeners do Quiz
document.querySelectorAll('.btn-opcao').forEach(btn => {
    btn.addEventListener('click', function() {
        verificarResposta(this.getAttribute('data-resposta'));
    });
});

document.getElementById('btnProximaPergunta').addEventListener('click', function() {
    perguntaAtual = (perguntaAtual + 1) % perguntas.length;
    carregarPergunta();
    console.log('‚û°Ô∏è Pr√≥xima pergunta');
});

// ============================================
// üîπ PARTE 6: TUTORIAL INTERATIVO
// ============================================
console.log('üìö Inicializando Tutorial...');

const tutorialPassos = [
    {
        elemento: '#areaTexto',
        mensagem: '‚ú® Digite seu texto aqui!',
        posicao: 'top'
    },
    {
        elemento: '#btnNegrito',
        mensagem: 'üÖ±Ô∏è Clique aqui para texto em negrito',
        posicao: 'top'
    },
    {
        elemento: '#selectFonte',
        mensagem: 'üî§ Escolha uma fonte divertida!',
        posicao: 'top'
    },
    {
        elemento: '#btnEmojis',
        mensagem: 'üòä Adicione emojis para deixar mais legal!',
        posicao: 'top'
    }
];

let tutorialAtivo = false;
let passoAtual = 0;

function iniciarTutorial() {
    tutorialAtivo = true;
    passoAtual = 0;
    mostrarPassoTutorial();
    console.log('üìö Tutorial iniciado');
}

function mostrarPassoTutorial() {
    if (!tutorialAtivo || passoAtual >= tutorialPassos.length) {
        finalizarTutorial();
        return;
    }
    
    const passo = tutorialPassos[passoAtual];
    const elemento = document.querySelector(passo.elemento);
    
    if (!elemento) {
        console.error('‚ùå Elemento do tutorial n√£o encontrado:', passo.elemento);
        passoAtual++;
        mostrarPassoTutorial();
        return;
    }
    
    // Destacar elemento
    elemento.style.boxShadow = '0 0 0 3px #ff4757';
    elemento.style.transition = 'box-shadow 0.3s';
    mostrarMensagem(passo.mensagem);
    
    // Pr√≥ximo passo ao clicar no elemento
    elemento.addEventListener('click', proximoPasso, { once: true });
    
    console.log(`üìö Tutorial passo ${passoAtual + 1}: ${passo.mensagem}`);
}

function proximoPasso() {
    const elementoAnterior = document.querySelector(tutorialPassos[passoAtual].elemento);
    if (elementoAnterior) {
        elementoAnterior.style.boxShadow = '';
    }
    passoAtual++;
    mostrarPassoTutorial();
}

function finalizarTutorial() {
    tutorialAtivo = false;
    mostrarMensagem('üéâ Tutorial completo! Agora voc√™ √© um expert!');
    console.log('üìö Tutorial finalizado');
}

// Bot√£o para iniciar tutorial
const btnTutorial = document.createElement('button');
btnTutorial.textContent = 'üìö Tutorial Interativo';
btnTutorial.className = 'btn-grande';
btnTutorial.addEventListener('click', iniciarTutorial);
document.querySelector('.controles-finais').appendChild(btnTutorial);

console.log('‚úÖ Tutorial configurado');

// ============================================
// üîπ PARTE 7: SISTEMA DE CONQUISTAS
// ============================================
console.log('üèÜ Inicializando Sistema de Conquistas...');

const conquistas = [
    {
        id: 'primeiro_texto',
        nome: 'üìù Primeiras Palavras',
        descricao: 'Digite seu primeiro texto',
        conquistada: false,
        verificar: function() { return areaTexto.value.length > 0; }
    },
    {
        id: 'estilizador',
        nome: 'üé® Estilizador Criativo',
        descricao: 'Use 3 estilos diferentes',
        conquistada: false,
        verificar: function() {
            const estilosAtivos = Object.values(config.estilos).filter(v => v).length;
            return estilosAtivos >= 3;
        }
    },
    {
        id: 'colorista',
        nome: 'üåà Mestre das Cores',
        descricao: 'Mude a cor do texto 5 vezes',
        conquistada: false,
        verificar: function() { return contadorMudancasCor >= 5; }
    },
    {
        id: 'escritor',
        nome: 'üìö Escritor Profissional',
        descricao: 'Escreva mais de 100 palavras',
        conquistada: false,
        verificar: function() {
            const palavras = areaTexto.value.trim() === '' ? 0 : areaTexto.value.trim().split(/\s+/).length;
            return palavras >= 100;
        }
    }
];

let contadorMudancasCor = 0;

function verificarConquistas() {
    let novasConquistas = 0;
    
    conquistas.forEach(conquista => {
        if (!conquista.conquistada && conquista.verificar()) {
            conquista.conquistada = true;
            novasConquistas++;
            mostrarConquista(conquista);
        }
    });
    
    if (novasConquistas > 0) {
        console.log(`üèÜ ${novasConquistas} nova(s) conquista(s) desbloqueada(s)!`);
    }
    
    return novasConquistas;
}

function mostrarConquista(conquista) {
    const mensagemConquista = document.createElement('div');
    mensagemConquista.className = 'mensagem-conquista';
    mensagemConquista.innerHTML = `
        <strong>üèÜ Conquista Desbloqueada!</strong><br>
        ${conquista.nome}<br>
        <small>${conquista.descricao}</small>
    `;
    
    document.body.appendChild(mensagemConquista);
    
    setTimeout(() => {
        mensagemConquista.remove();
    }, 5000);
    
    console.log(`üèÜ Conquista: ${conquista.nome}`);
}

// No evento de mudan√ßa de cor, incrementar contador
corTexto.addEventListener('input', function() {
    contadorMudancasCor++;
    verificarConquistas();
});

// Verificar conquistas periodicamente
setInterval(verificarConquistas, 2000);

console.log('‚úÖ Sistema de conquistas configurado');

// ============================================
// üîπ PARTE 8: INICIALIZA√á√ÉO FINAL
// ============================================

// üöÄ FUN√á√ÉO: Iniciar tudo quando a p√°gina carregar
function iniciarAplicacao() {
    console.log('üöÄ Iniciando aplica√ß√£o...');
    
    // Carregar texto salvo
    carregarTextoSaved();
    
    // Atualizar visualiza√ß√£o inicial
    atualizarVisualizacao();
    atualizarContadores();
    
    // Iniciar quiz
    carregarPergunta();
    
    // Verificar conquistas iniciais
    verificarConquistas();
    
    console.log('üéâ Aplica√ß√£o iniciada com sucesso!');
    mostrarMensagem('üåü Bem-vindo ao Editor Criativo!');
}

// üìÖ EVENTO: Quando a p√°gina terminar de carregar
document.addEventListener('DOMContentLoaded', iniciarAplicacao);

// üéä MENSAGEM FINAL NO CONSOLE
console.log(`
‚ú® EDITOR CRIATIVO CARREGADO! ‚ú®

üéØ Funcionalidades dispon√≠veis:
‚úÖ Formata√ß√£o de texto (negrito, it√°lico, etc.)
üé® Mudan√ßa de cores e fontes
üìä Contadores em tempo real
üé≠ Temas criativos
üòä Emojis e efeitos especiais
üéØ Quiz interativo
üìö Tutorial passo a passo
üèÜ Sistema de conquistas
üíæ Salvamento autom√°tico

Divirta-se criando! üéâ
`);